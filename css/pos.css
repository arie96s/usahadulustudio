/* css/pos.css - FINAL FIX (Sudut Tumpul & Tombol X) */

:root {
    --pos-bg: #050505;
    --pos-panel: #111;
    --pos-border: #333;
    --accent-green: #2ed573;
}

body {
    overflow: hidden; /* Desktop tidak boleh scroll body */
}

/* --- HEADER KHUSUS POS --- */
#posHeader {
    position: fixed; top: 0; left: 0; width: 100%; height: 70px;
    background: #000; border-bottom: 1px solid var(--pos-border);
    display: flex; justify-content: space-between; align-items: center;
    padding: 0 30px; z-index: 900;
}

/* FIX: Tombol Menu Hamburger agar X muncul di atas overlay */
#posHeader .menu-btn {
    z-index: 2000 !important; 
    position: relative;
}
.menu-btn.active span {
    background-color: #ffffff !important;
}

.pos-status {
    font-size: 10px; color: var(--accent-green); font-weight: bold;
    display: flex; align-items: center; gap: 5px; letter-spacing: 1px;
}
.status-dot { width: 8px; height: 8px; background: var(--accent-green); border-radius: 50%; box-shadow: 0 0 5px var(--accent-green); }
.header-right { display: flex; align-items: center; gap: 20px; color: #fff; font-family: monospace; font-size: 14px;}

/* --- LAYOUT UTAMA --- */
.pos-container {
    display: flex;
    height: 100vh;
    padding-top: 70px; 
}

/* Kolom Kiri: Produk */
.pos-products-area {
    flex: 1;
    background: var(--pos-bg);
    padding: 20px;
    overflow-y: auto;
    border-right: 1px solid var(--pos-border);
}

.pos-filter-bar { margin-bottom: 25px; }

/* FIX: Input Search Tumpul */
.pos-search {
    width: 100%; background: #000; border: 1px solid var(--pos-border);
    padding: 15px; color: #fff; margin-bottom: 15px;
    font-family: 'Inter', sans-serif; text-transform: uppercase;
    border-radius: 12px; /* SUDUT TUMPUL */
}
.pos-search:focus { border-color: #fff; outline: none; }

.pos-categories { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; }
.pos-categories::-webkit-scrollbar { height: 4px; }
.pos-categories::-webkit-scrollbar-thumb { background: #333; }

/* Grid Produk */
.pos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 15px;
}

.pos-card {
    background: var(--pos-panel);
    border: 1px solid var(--pos-border);
    border-radius: 12px; /* SUDUT TUMPUL KARTU */
    cursor: none; 
    transition: all 0.2s;
    overflow: hidden;
    position: relative;
    display: flex;
    flex-direction: column;
}
.pos-card:hover { border-color: #fff; transform: translateY(-3px); }
.pos-card:active { transform: scale(0.98); }

.pos-img { width: 100%; height: 120px; object-fit: cover; filter: grayscale(100%); transition: 0.3s; }
.pos-card:hover .pos-img { filter: grayscale(0%); }

.pos-info { padding: 12px; flex: 1; display: flex; flex-direction: column; justify-content: space-between; }
.pos-title { font-size: 12px; font-weight: bold; color: #fff; margin-bottom: 5px; text-transform: uppercase; }
.pos-price { font-size: 14px; color: #ffd700; font-weight: 900; }
.pos-stock { font-size: 10px; color: #666; position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.8); padding: 2px 5px; border-radius: 4px; }

/* Kolom Kanan: Sidebar */
.pos-sidebar {
    width: 350px;
    background: #000;
    display: flex; flex-direction: column;
    padding: 20px;
    height: 100%;
}

.sidebar-header {
    display: flex; justify-content: space-between; align-items: center;
    border-bottom: 1px dashed #333; padding-bottom: 15px; margin-bottom: 15px;
}
.sidebar-header h3 { font-size: 16px; color: #fff; margin: 0; }
.clear-btn { background: none; border: 1px solid #333; color: #ff4757; font-size: 10px; padding: 4px 8px; border-radius: 4px; }
.clear-btn:hover { background: #ff4757; color: #fff; }

.cart-items-container { flex: 1; overflow-y: auto; margin-bottom: 20px; }
.cart-item {
    display: flex; justify-content: space-between; align-items: center;
    background: #111; padding: 10px; margin-bottom: 8px;
    border: 1px solid transparent;
    border-radius: 8px; /* SUDUT TUMPUL ITEM */
}
.cart-item:hover { border-color: #444; }

.cart-info h4 { font-size: 12px; color: #fff; margin-bottom: 4px; }
.cart-meta { font-size: 11px; color: #888; }
.cart-controls { display: flex; align-items: center; gap: 8px; }
.qty-btn { width: 20px; height: 20px; background: #333; color: #fff; border: none; border-radius: 50%; font-size: 12px; display: flex; justify-content: center; align-items: center; }
.qty-btn:hover { background: #fff; color: #000; }

.pos-calculations { border-top: 1px dashed #333; padding-top: 15px; }
.calc-row { display: flex; justify-content: space-between; margin-bottom: 8px; color: #888; font-size: 13px; }
.calc-row.total { color: #fff; font-size: 18px; font-weight: 900; margin-top: 10px; border-top: 1px solid #333; padding-top: 10px; }

.powered-by { text-align: center; font-size: 9px; color: #444; margin-top: 15px; text-transform: uppercase; }

/* TOMBOL BAYAR (Sesuai Tema & Tidak Mengembang) */
.pay-btn {
    width: 100%; padding: 15px; 
    background: transparent; border: 1px solid #fff; color: #fff;
    font-weight: bold; margin-top: 20px; font-size: 14px;
    text-transform: uppercase; letter-spacing: 2px; transition: all 0.3s ease; cursor: none; 
    border-radius: 50px; /* BULAT PENUH */
}
.pay-btn:hover { 
    background: #fff; color: #000; 
    box-shadow: 0 0 15px rgba(255,255,255,0.5); transform: translateY(-2px); 
    letter-spacing: 2px;
}

/* --- MODAL PEMBAYARAN (FIX SUDUT TUMPUL & TOMBOL X) --- */
.pos-modal-content {
    background: #111; 
    border: 1px solid #fff; 
    width: 400px; 
    padding: 30px;
    
    /* FIX PENTING: Agar tombol X tidak kabur */
    position: relative; 
    
    /* FIX PENTING: Agar sudut tumpul */
    border-radius: 20px; 
    box-shadow: 0 10px 40px rgba(0,0,0,0.8);
}

.big-total { font-size: 32px; font-weight: 900; color: #fff; margin: 10px 0 20px 0; }
.payment-methods { display: flex; gap: 10px; margin-bottom: 20px; }

/* Tombol Pilihan Cash/QRIS Tumpul */
.method-btn { 
    flex: 1; background: #000; border: 1px solid #333; color: #888; 
    padding: 10px; font-size: 12px; font-weight: bold; 
    border-radius: 10px; /* SUDUT TUMPUL */
}
.method-btn.active, .method-btn:hover { background: #fff; color: #000; }

.form-group { margin-bottom: 15px; }
.form-group label { display: block; color: #888; font-size: 12px; margin-bottom: 5px; }

/* Input Uang Tumpul */
#cashInput {
    width: 100%; background: #000; border: 1px solid #333; color: #fff;
    padding: 12px; font-size: 16px;
    border-radius: 10px; /* SUDUT TUMPUL */
}
#cashInput:focus { border-color: #fff; outline: none; }

.change-display { display: flex; justify-content: space-between; margin-top: 15px; font-size: 14px; color: #ccc; }
.check-icon { font-size: 50px; color: var(--accent-green); margin-bottom: 10px; }

/* FIX: Close Modal Style (Tombol X di Modal) */
.pos-modal-content .close-modal {
    position: absolute; 
    top: 15px; 
    right: 15px; 
    color: #fff; 
    font-size: 24px; 
    cursor: pointer;
    z-index: 10;
    width: 30px; height: 30px;
    display: flex; justify-content: center; align-items: center;
    background: #222; border-radius: 50%; border: 1px solid #333;
}
.pos-modal-content .close-modal:hover {
    background: #fff; color: #000;
}

/* Preview Struk Tumpul */
.receipt-preview {
    background: #fff; color: #000; padding: 15px;
    font-family: 'Courier New', monospace; font-size: 12px; text-align: left;
    margin: 20px 0; max-height: 200px; overflow-y: auto;
    border-radius: 10px; /* SUDUT TUMPUL */
    border: 1px solid #ddd; 
}
.receipt-actions { display: flex; gap: 10px; justify-content: center; }


/* =========================================
   MOBILE RESPONSIVE (HP) - RAPI & FIX
   ========================================= */
@media (max-width: 768px) {
    body { overflow: auto; } /* Aktifkan scroll di HP */
    
    .pos-container { 
        flex-direction: column; 
        height: auto; 
        overflow-x: hidden;
    }

    .pos-products-area { 
        width: 100%; 
        height: auto; 
        overflow-y: visible; 
        padding-bottom: 20px;
        order: 1; /* Produk di Atas */
    }

    .pos-grid {
        grid-template-columns: repeat(2, 1fr); 
        gap: 10px;
    }
    
    .pos-card .pos-title { font-size: 10px; }
    .pos-card .pos-price { font-size: 12px; }
    .pos-img { height: 100px; }

    .pos-sidebar { 
        width: 100%; 
        height: auto; 
        border-top: 2px solid #333; 
        border-left: none;
        padding: 20px;
        background: #0a0a0a; 
        order: 2; /* Cart di Bawah */
    }

    #posHeader { padding: 0 15px; }
    .pos-status { display: none; } 
    #clockDisplay { font-size: 12px; } 

    .pos-modal-content {
        width: 90%; 
        padding: 20px;
        margin: 0 auto;
    }
}

/* --- ADMIN / HISTORY STYLES --- */
.admin-summary-box {
    display: flex; gap: 10px; margin-bottom: 20px;
    background: #000; padding: 15px; border-radius: 12px; border: 1px solid #333;
}
.summary-item { flex: 1; text-align: center; border-right: 1px solid #333; }
.summary-item:last-child { border: none; }
.summary-item small { display: block; color: #888; font-size: 10px; margin-bottom: 5px; }
.summary-item strong { display: block; color: #fff; font-size: 14px; }

.admin-tabs { display: flex; gap: 10px; margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 10px; }
.tab-btn { background: none; border: none; color: #666; font-weight: bold; cursor: pointer; font-size: 12px; }
.tab-btn.active { color: #fff; border-bottom: 2px solid #fff; }

.history-list { max-height: 250px; overflow-y: auto; }
.history-item {
    display: flex; justify-content: space-between; align-items: center;
    background: #050505; border: 1px solid #222; 
    padding: 10px; margin-bottom: 8px; border-radius: 8px; cursor: pointer;
}
.history-item:hover { border-color: #666; background: #111; }
.h-date { font-size: 10px; color: #888; display: block; margin-bottom: 2px; }
.h-id { font-size: 10px; color: #2ed573; font-weight: bold; }
.h-total { font-size: 12px; font-weight: bold; color: #fff; }
.h-method { font-size: 9px; padding: 2px 6px; border-radius: 4px; background: #222; color: #ccc; margin-left: 10px;}